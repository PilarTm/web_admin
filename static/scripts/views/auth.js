// Generated by CoffeeScript 1.4.0
var auth_footer,auth_view,user_model;user_model=Backbone.Model.extend({defaults:{id:0,login:"",pass:""},is_valid_auth:function(){return this.validate_email()?this.get("pass")===""?!1:!0:!1},validate_email:function(){var e;return e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e.test(String(this.get("login")).toLowerCase())}}),auth_footer=Backbone.View.extend({el:"#auth_form_footer",template:"#loginForm_footer_tpl",model:new user_model,initialize:function(e){return this.model=e,this.listenTo(this.model,"change",this.render),this.render()},render:function(){var e;return e=_.template($(this.template).html()),$(this.$el).empty().append(e({user:this.model}))}}),auth_view=Backbone.View.extend({el:"#loginForm",template:"#loginForm_tpl",model:new user_model,initialize:function(){return this.render()},render:function(){var e;return e=_.template($(this.template).html()),$(this.$el).empty().append(e({user:this.model})),new auth_footer(this.model)},_setter_login:function(e){return this.model.set("login",$(e.target).val())},events:{"paste #username":function(e){return this._setter_login(e)},"blur #username":function(e){return this._setter_login(e)},"change #username":function(e){return this._setter_login(e)},"keyup #username":function(e){return this._setter_login(e)},"keyup #password":function(e){return this.model.set("pass",$(e.target).val())}}}),$(document).ready(function(){return new auth_view});