var USER_MODAL_REGISTARATION=Backbone.View.extend({template:"#registration_user_tpl",initialize:function(e,t){this.model=e,this.callback=t,this.listenTo(this.model,"change",this.btn_status),this.render()},btn_status:function(){$("#registration").attr("class",function(e){return e.isValid()?"btn btn btn-accent":"btn btn-default disabled"}(this.model))},render:function(){var e=_.template($(this.template).html());this.$el=$(e({user:this.model})).modal("show"),$(this.$el).on("hidden.bs.modal",function(){$(this).remove()})},events:{"click #registration":function(){var e=this;this.model.isValid()&&this.model.save({pass:this.model.get("password")},{success:function(){$(e.$el).modal("hide"),typeof e.callback!="undefined"&&e.callback()}})},"keyup #email":function(e){this.model.set("email",$(e.target).val())},"paste #email":function(e){this.model.set("email",$(e.target).val())},"keyup #repeatpassword":function(e){this.model.set("repeatpassword",$(e.target).val())},"focus #repeatpassword":function(e){this.model.set("email",$("#email").val()),this.model.set("password",$("#password").val())},"blur #email":function(e){this.model.set("email",$(e.target).val())},"paste #password":function(e){this.model.set("password",$(e.target).val())},"keyup #password":function(e){this.model.set("password",$(e.target).val())}}});